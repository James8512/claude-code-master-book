---
slug: "38-sandbox-mode"
title: "Sandbox 모드: 속도와 보안의 균형"
description: "Claude Code의 Sandbox 모드를 활용하여 안전한 명령어를 자동 승인하고 작업 속도를 높이는 방법을 배웁니다."
part: 8
partTitle: "컨테이너와 샌드박스"
chapter: 38
order: 38
readingTime: "5분"
difficulty: "intermediate"
tags: ["Sandbox", "권한", "보안"]
draft: false
---

## 개요

Claude Code는 기본적으로 파일 수정이나 명령어 실행 시 사용자에게 승인을 요청합니다. Sandbox 모드는 안전하다고 판단되는 특정 명령어를 자동으로 승인하여 작업 흐름의 중단 없이 빠르게 작업할 수 있게 합니다.

## /sandbox 명령어

```
/sandbox
```

이 명령어를 실행하면 미리 정의된 안전한 명령어 목록에 대해 자동 승인이 활성화됩니다.

## 자동 승인 가능한 명령어 예시

### 읽기 전용 명령어

| 명령어 | 설명 |
|--------|------|
| `git status` | 저장소 상태 확인 |
| `git diff` | 변경사항 확인 |
| `git log` | 커밋 히스토리 확인 |
| `ls`, `cat`, `find` | 파일 시스템 읽기 |

### 안전한 실행 명령어

| 명령어 | 설명 |
|--------|------|
| `npm install` | 패키지 설치 |
| `npm test` | 테스트 실행 |
| `npm run build` | 빌드 실행 |
| `npx eslint` | 린트 실행 |

## 설정 파일에서의 구성

`.claude/settings.json`에서 자동 승인할 명령어를 세밀하게 설정할 수 있습니다:

```json
{
  "permissions": {
    "allow": [
      "Bash(npm install *)",
      "Bash(npm test *)",
      "Bash(npm run *)",
      "Bash(git status)",
      "Bash(git diff *)",
      "Bash(git log *)",
      "Bash(npx eslint *)",
      "Bash(npx prettier *)"
    ]
  }
}
```

## 와일드카드 지원

MCP 도구에 대해서도 와일드카드 패턴으로 자동 승인을 설정할 수 있습니다:

```json
{
  "permissions": {
    "allow": [
      "mcp__playwright__*",
      "mcp__supabase__query",
      "mcp__firecrawl__fetch"
    ]
  }
}
```

<Callout type="info" title="와일드카드 패턴">
`mcp__server__*`는 해당 MCP 서버의 **모든 도구**를 자동 승인합니다. 신뢰할 수 있는 MCP 서버에만 와일드카드를 적용하세요.
</Callout>

## 속도와 보안의 균형

<Callout type="tip" title="Ado의 조언">
Ado(Claude Code 개발자)는 이렇게 말합니다: "매번 승인 버튼을 누르는 것은 안전하지만 느립니다. 모든 것을 자동 승인하는 것은 빠르지만 위험합니다. **읽기 전용 명령과 테스트/빌드 명령만 자동 승인**하고, 파일 수정과 Git push는 수동 승인을 유지하세요. 이것이 속도와 보안의 최적 균형점입니다."
</Callout>

<Callout type="warning" title="자동 승인 금지 목록">
다음 명령어는 절대로 자동 승인에 포함하지 마세요:
- `rm -rf` - 파일 삭제
- `git push` - 원격 저장소 변경
- `sudo` - 루트 권한 실행
- `chmod` - 파일 권한 변경
- `curl | sh` - 원격 스크립트 실행
</Callout>

<Practice>
  <PracticeItem>프로젝트의 .claude/settings.json에 읽기 전용 명령어와 테스트/빌드 명령어를 자동 승인하도록 설정하고, 작업 속도가 얼마나 향상되는지 체험해보세요</PracticeItem>
</Practice>
