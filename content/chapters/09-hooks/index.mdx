---
slug: "09-hooks"
title: "Hooks 활용하기"
description: "이벤트 기반 자동화, 라이프사이클 훅, 실행 흐름 제어 방법을 배웁니다."
part: 3
partTitle: "고급 기능"
chapter: 9
order: 9
readingTime: "12분"
difficulty: "intermediate"
tags: ["hooks", "자동화", "라이프사이클"]
draft: false
---

## Hooks란?

Hooks는 Claude Code의 특정 시점에 자동으로 실행되는 셸 명령입니다. `/hooks` 명령이나 `.claude/settings.json`에서 설정할 수 있습니다.

위험한 명령을 막거나, 알림을 보내거나, 코드를 자동 포매팅하는 등 AI의 동작을 규칙 기반으로 통제할 수 있습니다.

## 훅 종류

| 훅 | 실행 시점 |
|-----|-----------|
| `PreToolUse` | 도구 실행 전 |
| `PostToolUse` | 도구 실행 후 |
| `Notification` | 알림 발생 시 |
| `Stop` | 에이전트 멈출 때 |

## 설정 방법

```json title=".claude/settings.json"
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "command": "prettier --write \"$FILEPATH\""
      }
    ]
  }
}
```

이 설정은 Claude가 파일을 작성하거나 편집할 때마다 자동으로 Prettier를 실행합니다.

## 실용적인 훅 예시

### 자동 포매팅 (Post-Tool)

```json title="파일 저장 후 자동 포매팅"
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "command": "npx prettier --write \"$FILEPATH\""
      }
    ]
  }
}
```

<Callout type="tip" title="Boris Cherny의 팁">
Post-tool 훅으로 코드 포매팅을 자동화하세요. Claude는 보통 잘 포매팅된 코드를 생성하지만, 이 훅으로 나머지 10%의 문제를 자동으로 해결할 수 있습니다.
</Callout>

### 알림 훅

```json title="작업 완료 시 macOS 알림"
{
  "hooks": {
    "Notification": [
      {
        "matcher": ".*",
        "command": "osascript -e 'display notification \"$MESSAGE\" with title \"Claude Code\"'"
      }
    ]
  }
}
```

### Agent Stop 훅

```json title="에이전트 멈출 때 검증 실행"
{
  "hooks": {
    "Stop": [
      {
        "matcher": ".*",
        "command": "npm test"
      }
    ]
  }
}
```

에이전트가 멈출 때마다 테스트를 실행하여 더 디터미니스틱한 결과를 보장합니다.

<Practice>
<PracticeItem>.claude/settings.json에 PostToolUse 훅을 추가해보세요</PracticeItem>
<PracticeItem>파일 저장 후 자동 포매팅 훅을 설정해보세요</PracticeItem>
<PracticeItem>알림 훅을 설정하여 Claude가 입력을 기다릴 때 알림받아보세요</PracticeItem>
</Practice>
