---
slug: "32-slim-system-prompt"
title: "시스템 프롬프트 슬림화: 토큰 절약의 극한"
description: "Claude Code의 시스템 프롬프트를 최적화하여 토큰 사용량을 줄이고 응답 품질을 높이는 고급 기법을 배웁니다."
part: 7
partTitle: "시스템 최적화와 자동화"
chapter: 32
order: 32
readingTime: "6분"
difficulty: "advanced"
tags: ["시스템프롬프트", "최적화", "토큰"]
draft: false
---

## 개요

Claude Code는 내부적으로 큰 시스템 프롬프트를 사용합니다. ykdojo는 이 시스템 프롬프트를 분석하여 19,000토큰에서 10,000토큰으로 약 47%를 줄이는 데 성공했습니다. 이는 모든 대화에서 토큰 비용을 절감하고, 더 많은 컨텍스트를 실제 작업에 할당할 수 있게 합니다.

## ykdojo의 최적화 과정

ykdojo는 총 **58개의 패치**를 적용하여 시스템 프롬프트를 슬림화했습니다. 주요 최적화 대상은 다음과 같습니다:

### 제거된 항목들

| 카테고리 | 절감 토큰 수 | 설명 |
|----------|-------------|------|
| 장황한 예시 | ~3,000 | 이미 이해할 수 있는 간단한 개념의 과도한 예시 |
| 반복 지시 | ~2,500 | 같은 규칙을 다른 표현으로 반복 |
| 과도한 안전 경고 | ~1,500 | 불필요하게 반복되는 주의사항 |
| 미사용 도구 설명 | ~2,000 | 거의 사용하지 않는 도구의 상세 설명 |

### 최적화 예시

```diff
- When you want to edit a file, you should use the Edit tool.
- The Edit tool allows you to make changes to files by specifying
- the old text and the new text. Make sure the old text is unique
- within the file to ensure the correct replacement is made.
- If the old text is not unique, provide more surrounding context
- to make it unique. The Edit tool is preferred over writing
- entire files when making small changes.
+ Use Edit tool for file changes. Ensure old_string is unique.
```

## 패치 적용 방법

<Callout type="warning" title="전문가 전용">
시스템 프롬프트 수정은 Claude Code의 내부 동작에 영향을 줄 수 있습니다. **기본 동작에 대한 깊은 이해가 있는 경우에만** 시도하세요. 잘못된 수정은 도구 사용 오류나 예상치 못한 동작을 유발할 수 있습니다.
</Callout>

ykdojo는 패치를 자동으로 적용하는 스크립트를 제공했습니다:

```bash
# 패치 파일 다운로드
# (ykdojo의 GitHub 저장소에서 패치 파일 확인)

# 패치 적용
node apply-patches.js

# 원본 복원
node restore-original.js
```

## 직접 최적화하기

<Steps>
<Step title="현재 시스템 프롬프트 확인">
Claude Code의 시스템 프롬프트를 확인합니다. 디버그 모드나 관련 설정 파일을 통해 접근할 수 있습니다.
</Step>
<Step title="반복 패턴 식별">
같은 내용이 다른 표현으로 반복되는 부분을 찾습니다.
</Step>
<Step title="불필요한 예시 제거">
명확한 지시에 과도한 예시가 붙어있는 경우 축소합니다.
</Step>
<Step title="테스트">
수정 후 주요 기능(파일 편집, 검색, Git 작업 등)이 정상 동작하는지 반드시 테스트합니다.
</Step>
</Steps>

<Callout type="tip" title="안전한 접근">
전체 시스템 프롬프트를 수정하기보다, **CLAUDE.md를 간결하게 유지**하는 것이 더 안전한 토큰 절약 방법입니다. CLAUDE.md에서 불필요한 설명을 줄이는 것만으로도 상당한 토큰을 절약할 수 있습니다.
</Callout>

<Practice>
  <PracticeItem>현재 프로젝트의 CLAUDE.md를 분석하여 반복되거나 장황한 부분을 50% 이상 축소해보세요</PracticeItem>
  <PracticeItem>축소 전후로 Claude Code의 응답 품질에 차이가 있는지 동일한 작업을 시켜 비교해보세요</PracticeItem>
</Practice>
