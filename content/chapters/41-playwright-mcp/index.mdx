---
slug: "41-playwright-mcp"
title: "Playwright MCP: 고급 브라우저 자동화"
description: "Playwright MCP 서버를 활용하여 헤드리스 브라우저에서 복잡한 E2E 테스트를 자동으로 수행하는 방법을 배웁니다."
part: 9
partTitle: "브라우저 통합과 웹 자동화"
chapter: 41
order: 41
readingTime: "8분"
difficulty: "advanced"
tags: ["Playwright", "MCP", "E2E"]
draft: false
---

## Playwright MCP란?

Chrome 네이티브 통합이 간단한 브라우저 조작에 적합하다면, Playwright MCP는 본격적인 브라우저 자동화를 위한 도구입니다. 헤드리스 모드, 멀티 브라우저 지원, 네트워크 인터셉션, 파일 다운로드 등 고급 기능을 제공합니다.

## 설치

```bash
$ claude mcp add -s user playwright npx @playwright/mcp@latest
```

이 명령어로 Playwright MCP 서버를 사용자 수준에 등록하면, 모든 프로젝트에서 사용할 수 있습니다.

<Callout type="info" title="MCP 서버란?">
MCP(Model Context Protocol) 서버는 Claude Code의 기능을 확장하는 외부 도구입니다. Playwright MCP를 등록하면 Claude Code가 브라우저를 직접 제어하는 도구를 사용할 수 있게 됩니다.
</Callout>

## 주요 기능

### 헤드리스 브라우저

화면 없이 백그라운드에서 브라우저를 실행합니다. CI/CD 환경이나 서버에서 테스트를 자동화할 때 필수입니다.

```
> 헤드리스 모드로 localhost:3000의 전체 페이지를 크롤링해줘
```

### 멀티 브라우저 지원

Chromium뿐 아니라 Firefox, WebKit에서도 테스트를 실행할 수 있습니다.

```
> 이 페이지를 Chromium, Firefox, WebKit 세 브라우저에서 열어서
  렌더링 차이를 비교해줘
```

### 네트워크 인터셉션

API 호출을 가로채서 응답을 조작하거나 모니터링할 수 있습니다.

```
> /api/products 요청을 인터셉트해서 빈 배열을 반환하도록 하고,
  상품 목록 페이지에서 "상품이 없습니다" 메시지가 표시되는지 확인해줘
```

### 파일 다운로드

다운로드 버튼 클릭 후 파일이 실제로 다운로드되는지 검증할 수 있습니다.

```
> CSV 내보내기 버튼을 클릭하고, 다운로드된 파일의 내용을 확인해줘
```

## 실전 사례: E2E 테스트 자동 생성

회원가입부터 결제까지의 전체 사용자 여정을 E2E 테스트로 작성하는 예제입니다.

<Steps>
<Step title="회원가입 테스트">
```
> Playwright MCP를 사용해서 localhost:3000/signup에서
  이름: "테스트유저", 이메일: "test@example.com", 비밀번호: "Test1234!"로
  회원가입 테스트를 실행하고 스크린샷을 찍어줘
```
</Step>
<Step title="로그인 테스트">
```
> 방금 가입한 계정으로 로그인 페이지에서 로그인하고,
  대시보드로 리다이렉트되는지 확인해줘. 스크린샷도 찍어줘
```
</Step>
<Step title="상품 검색 테스트">
```
> 검색창에 "노트북"을 입력하고 검색 결과가 나타나는지 확인해줘.
  결과가 3개 이상인지 검증하고 스크린샷을 찍어줘
```
</Step>
<Step title="장바구니 추가 테스트">
```
> 첫 번째 검색 결과의 '장바구니 담기' 버튼을 클릭하고,
  장바구니 아이콘의 숫자가 1로 변하는지 확인해줘. 스크린샷 찍어줘
```
</Step>
<Step title="결제 테스트">
```
> 장바구니 페이지로 이동하여 '결제하기'를 클릭하고,
  결제 페이지에서 배송 정보를 입력한 뒤 주문 완료까지 진행해줘.
  각 단계마다 스크린샷을 찍어줘
```
</Step>
</Steps>

<Callout type="tip" title="스크린샷은 디버깅의 핵심">
각 단계에서 스크린샷을 찍으면 테스트 실패 시 어느 시점에서 문제가 발생했는지 시각적으로 파악할 수 있습니다. CI/CD에서 헤드리스로 실행할 때 특히 유용합니다.
</Callout>

## Playwright 테스트 코드 생성

Claude Code에게 위 시나리오를 Playwright 테스트 파일로 작성해달라고 요청할 수도 있습니다.

```
> 위에서 실행한 E2E 시나리오를 playwright 테스트 코드로 작성해줘.
  tests/e2e/checkout-flow.spec.ts 파일로 저장해줘
```

이렇게 하면 수동으로 실행했던 테스트가 자동화된 테스트 코드로 변환되어, CI/CD 파이프라인에서 반복적으로 실행할 수 있습니다.

<Practice>
  <PracticeItem>Playwright MCP를 설치하고 로컬 웹 앱의 로그인 플로우를 자동으로 테스트해보세요</PracticeItem>
  <PracticeItem>네트워크 인터셉션을 활용하여 API 실패 시나리오(500 에러)를 시뮬레이션하고, 에러 UI가 올바르게 표시되는지 검증해보세요</PracticeItem>
</Practice>
